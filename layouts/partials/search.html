<div class="max-w-md mx-auto">
  <input 
    list="wikiPages"
    id="wikiSearch"
    name="search"
    placeholder="Search wiki..."
    class="w-full border rounded p-2"
  >

  <datalist id="wikiPages">
    {{ range site.RegularPages }}
      <option value="{{ .LinkTitle }}">{{ .Description }}</option>
    {{ end }}
  </datalist>
</div>

<script>
  const pageLinks = {
    {{ range site.RegularPages }}
      {{ printf "%s" .LinkTitle }}: {{ printf "%s" .RelPermalink }},
    {{ end }}
  };

  const searchInput = document.getElementById("wikiSearch");

  searchInput.addEventListener("keydown", function(e) {
    if (e.key === "Enter") {
      const value = searchInput.value.trim();
      if (pageLinks[value]) {
        window.location.href = pageLinks[value];
      }
    }
  });


  document.addEventListener("keydown", (e) => {
  if (e.key === "/" && !e.ctrlKey && !e.altKey && !e.metaKey) {
    const tag = e.target.tagName.toLowerCase();
    if (tag === "input" || tag === "textarea") {
      return;
    }

    e.preventDefault(); // Prevent the "/" from being typed into the body

    const searchInput = document.getElementById("wikiSearch");
    if (searchInput) {
      searchInput.focus();
      searchInput.select(); // Optional: highlight text so typing replaces it
    }
  }
});
 
 
 
</script>
